<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Top Artistas</title>
   <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Tus Top Artistas</h1>

        <!-- Selector de rango de tiempo -->
        <form method="get" action="{{ url_for('top_artists') }}" style="margin-bottom: 20px; text-align:center;">
            <label for="time_range">Ver artistas de:</label>
            <select name="time_range" id="time_range" onchange="this.form.submit()">
                <option value="short_term" {% if selected_range=='short_term' %}selected{% endif %}>Última semana</option>
                <option value="medium_term" {% if selected_range=='medium_term' %}selected{% endif %}>Últimos 6 meses</option>
                <option value="long_term" {% if selected_range=='long_term' %}selected{% endif %}>Todos los años</option>
            </select>
        </form>

        {% if artistas %}
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Artista</th>
                    <th>Imagen</th>
                </tr>
            </thead>
            <tbody>
                {% for artist in artistas %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td><a href="{{ artist['url'] }}" target="_blank">{{ artist['name'] }}</a></td>
                    <td>
                        {% if artist['image'] %}
                        <img src="{{ artist['image'] }}" alt="{{ artist['name'] }}" width="50">
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p>No se encontraron artistas.</p>
        {% endif %}

        <a href="/">Volver a login</a>
    </div>
</body>
</html>
